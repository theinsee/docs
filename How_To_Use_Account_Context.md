# Account Context
> path /component/context/account

> path /component/provider/AccountProvider
> 
## how to use 

root (_app) or layout (nextjs13)
add web 3 wallet

nextjs 12
```js
import {AccountWrapper} from "../context/account"
// web 3 wallet for blockchian 
import { Web3Modal } from '@web3modal/react'
```
 config web3modal
```js
  const config = {
        <!--  https://cloud.walletconnect.com/sign-in  -->
        projectId: 'Your API Key',
        theme: 'dark',
        accentColor: 'blue',
        ethereum: {
          appName: 'web3Modal'
        }
      }
```
warpper account
```js
<!--  web 3 wallet for blockchian -->
<Web3Modal config={config} />
<!--  user Account for client login  -->
<AccountWrapper>
  <Component {...pageProps} />
</AccountWrapper>
```

(nextjs13 root layout)
layout.js
```js
import AccountProvider from '../components/providers/AccountProvider'
// web 3 wallet for blockchian 
import WalletProvider from '../components/providers/WalletProvider'
```

```jsx
<div>

web 3 wallet for blockchian 
  <WalletProvider />
  {/*  user Account for client login  */}
  <AccountWrapper>
    {children}
  </AccountWrapper>
</div>
```


> &nbsp;

## example full code nextjs 13
```jsx
"use client"
import './globals.css'
import styles from './page.module.css'
import Image from "next/legacy/image";

import AccountProvider from '../components/providers/AccountProvider'
import WalletProvider from '../components/providers/WalletProvider'

export default function RootLayout({ children, }) {
  console.log("app layout build...");

  return (
    <html lang="en">

      <head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </head>

      <body className='min-h-screen w-full overflow-x-hidden'>
        
       <WalletProvider/>
        <div className='container mx-auto ' >
          <main className=' flex content-center justify-center center'>
            <div className='container  my-10 xl:mx-16 md:mx-12 mx-6'>
              <!--    Add  Providor to this       -->
              <AccountProvider >
                {children}
              </AccountProvider>
            </div>
          </main>
        </div>

        <footer>
          <footer className={styles.footer}>
            <a
              href="https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app"
              target="_blank"
              rel="noopener noreferrer"
            >
              Powered by{' '}
              <span className={styles.logo}>
                <Image src="/vercel.svg" alt="Vercel Logo" width={72} height={16} />
              </span>
            </a>
          </footer>
        </footer>
      </body>
    </html>
  )
}

```


## example full code nextjs 12
```jsx
import '../styles/globals.css'
import {AccountWrapper} from "../context/account"
function MyApp({ Component, pageProps }) {
 const config = {
        // https://cloud.walletconnect.com/sign-in 
        projectId: 'Your API Key',
        theme: 'dark',
        accentColor: 'blue',
        ethereum: {
          appName: 'web3Modal'
        }
      }
  return(
  <div>
    <Web3Modal config={config} />
    <AccountWrapper>
      <Component {...pageProps} />
    </AccountWrapper>
  </div>
  )
}
```

## how to sign in + web 3 modal
```jsx
import { Web3Button, useAccount, useConnectModal, useSigner } from "@web3modal/react";
import { useAccountContext } from '../../../context/account'
```

```jsx
const { isOpen, open, close } = useConnectModal()
const { account, isReady } = useAccount()
const { user, SignIn, SignOut, status } = useAccountContext()
const { data, error, isLoading, refetch } = useSigner()
    // 

useEffect(() => {
     if (account.isConnected) {
        // fecth Userlogin 
        SignIn({
           // userdata ใส่เหี้ยไรก็ได้ที่เป็นjson
           name: "username",
           address: account.address
        })
      }

      console.log(account);
      if (account.status === "disconnected") {
          // console.log(status);
          SignOut()
      }
}, [account.isConnected])
```

